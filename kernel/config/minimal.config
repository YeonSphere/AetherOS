# AetherOS Minimal Kernel Configuration

# General setup
CONFIG_64BIT=y
CONFIG_SMP=y
CONFIG_PREEMPT_RT=y
CONFIG_NO_HZ_FULL=y
CONFIG_HIGH_RES_TIMERS=y
CONFIG_TASKSTATS=n
CONFIG_AUDIT=n

# CPU
CONFIG_GENERIC_CPU=y
CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE=y
CONFIG_CPU_FREQ_GOV_SCHEDUTIL=y

# Memory Management
CONFIG_TRANSPARENT_HUGEPAGE=y
CONFIG_CLEANCACHE=y
CONFIG_FRONTSWAP=y
CONFIG_ZSMALLOC=y
CONFIG_MEMORY_HOTPLUG=n
CONFIG_SWAP=n

# Process Management
CONFIG_SCHED_RUSTY=y  # Our custom Rusty scheduler
CONFIG_SCHED_RUSTY_LOCAL_PRIO=5
CONFIG_SCHED_RUSTY_GLOBAL_PRIO=5
CONFIG_FAIR_GROUP_SCHED=n
CONFIG_CFS_BANDWIDTH=n

# Real-Time Features
CONFIG_PREEMPT=y
CONFIG_PREEMPT_RT=y
CONFIG_PREEMPT_COUNT=y
CONFIG_PREEMPTION=y
CONFIG_PREEMPT_DYNAMIC=y
CONFIG_HIGH_RES_TIMERS=y
CONFIG_NO_HZ_FULL=y
CONFIG_RCU_BOOST=y

# Power Management
CONFIG_CPU_IDLE=y
CONFIG_CPU_IDLE_GOV_TEO=y
CONFIG_INTEL_IDLE=y
CONFIG_AMD_ACPI_CPU=y

# Essential Drivers Only
CONFIG_PCI=y
CONFIG_NVME_CORE=y
CONFIG_NVME_PCI=y
CONFIG_ATA=y
CONFIG_SATA_AHCI=y
CONFIG_USB_XHCI_HCD=y
CONFIG_USB_EHCI_HCD=y
CONFIG_NET_VENDOR_INTEL=y
CONFIG_NET_VENDOR_AMD=y
CONFIG_NET_VENDOR_REALTEK=y

# Networking (Minimal)
CONFIG_NET=y
CONFIG_INET=y
CONFIG_IPV6=n
CONFIG_WIRELESS=n
CONFIG_NETFILTER=n

# File Systems (Minimal)
CONFIG_EXT4_FS=y
CONFIG_TMPFS=y
CONFIG_DEVTMPFS=y
CONFIG_PROC_FS=y
CONFIG_SYSFS=y

# Security (Minimal)
CONFIG_SECURITY=y
CONFIG_SECURITY_NETWORK=n
CONFIG_SECURITY_SELINUX=n
CONFIG_SECURITY_APPARMOR=n
CONFIG_IMA=n
CONFIG_EVM=n

# Debug Info for Development
CONFIG_DEBUG_INFO=y
CONFIG_DEBUG_INFO_DWARF4=y
CONFIG_DEBUG_INFO_BTF=y
CONFIG_DEBUG_INFO_BTF_MODULES=y
CONFIG_KALLSYMS=y
CONFIG_KALLSYMS_ALL=y
CONFIG_FTRACE=y
CONFIG_FUNCTION_TRACER=y
CONFIG_FUNCTION_GRAPH_TRACER=y

# Module Support
CONFIG_MODULES=y
CONFIG_MODULE_UNLOAD=y
CONFIG_MODVERSIONS=y
CONFIG_MODULE_SRCVERSION_ALL=y
CONFIG_MODULE_SIG=y
CONFIG_MODULE_COMPRESS=y
